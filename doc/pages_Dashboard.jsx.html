<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: pages/Dashboard.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: pages/Dashboard.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { useParams } from 'react-router-dom';
import { useState, useEffect } from 'react';
import styled from 'styled-components';

import UserService from '../services/UserService';
import { Welcome, Tracking, Metrics, Session, Stats, Score, Loader } from './../components/ui';
import Error404 from './Error404'

/**
 * Function : create a react component for user profil.
 * @component
 * @returns {reactElement} 
 */
export const Dashboard = () => {
  /**
   * 
   */
  let { id } = useParams();
  const currentUserID = Number(id);

  const [user, setUser] = useState({})
  const [activities, setActivities] = useState(null)
  const [sessions, setSessions] = useState(null)
  const [perf, setPerf] = useState(null)

  useEffect(() => {
    UserService.get(currentUserID).then(res => {
      console.log('response.status: ', res.status);
      setUser(res);
    })
    UserService.getActivities(currentUserID).then(res => {
      setActivities(res);
    })
    UserService.getSessions(currentUserID).then(res => {
      setSessions(res);
    })
    UserService.getPerf(currentUserID).then(res => {
      setPerf(res);
    })
  }, []);



  if (user) {
    if (user.todayScore &amp;&amp; user.userInfos &amp;&amp; user.keyData &amp;&amp; activities &amp;&amp; sessions &amp;&amp; perf) {
      return (
        &lt;>
          &lt;Container>
            &lt;Welcome firstName={user.userInfos.firstName} />
            &lt;GraphContainer>
              &lt;Tracking activities={activities} />
              &lt;Performance>
                &lt;Session sessions={sessions} />
                &lt;Stats {...perf} />
                &lt;Score userScore={user.todayScore} />
              &lt;/Performance>
              &lt;Metrics metrics={user.keyData} />
            &lt;/GraphContainer>
          &lt;/Container>
        &lt;/>
      )
    }
    return (!user.id === currentUserID ? &lt;Error404 /> : &lt;Loader />);
  }
  return &lt;Error404 />;
};


const Container = styled.div`
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: 1fr auto;
  grid-template-areas:
    "ti ti ti ti ti ti"
    "ch ch ch ch ch ch";
  margin: 3rem 5rem;
  width:100%;
  `;
const GraphContainer = styled.div`
  grid-area: ch;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(4, 1fr);
  grid-template-areas:
  "track track track metric"
  "track track track metric"
  "track track track metric"
  "track track track metric"
  "perf perf perf metric"
  "perf perf perf metric"
  "perf perf perf metric"
  "perf perf perf metric";
  gap: 2rem;
  `;
const Performance = styled.section`
  grid-area: perf;
  display: flex;
  align-items:flex-end;
`;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#BASE_URL">BASE_URL</a></li><li><a href="global.html#Dashboard">Dashboard</a></li><li><a href="global.html#ENV">ENV</a></li><li><a href="global.html#Loading">Loading</a></li><li><a href="global.html#Metrics">Metrics</a></li><li><a href="global.html#MetricsCard">MetricsCard</a></li><li><a href="global.html#Sidebar">Sidebar</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Fri Feb 25 2022 01:18:34 GMT+0400 (heure du Golfe)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
